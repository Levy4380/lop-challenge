{% style %}
    .responsive-image{
        height: 100%;
        display: flex;
        align-content: center;
        justify-content: center;
        align-items: center;
        position: relative;
    }
{% endstyle %}

<div class="responsive-image">
      {%- liquid
        assign image_height = image.width | divided_by: image.aspect_ratio 
      -%}
      {{
        image
        | image_url: width: 3840
        | image_tag:
          width: image.width,
          height: image_height,
          class: image_class,
          sizes: '100vw',
          widths: '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'
      }}
    </div>